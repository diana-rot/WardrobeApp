<script src="../flaskapp/static/js/outfit.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
{% extends "base.html" %}
{% block content %}
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <style>
    #piece1{
        display: none;
    }
     #piece2{
        display: none;
    }
      #piece3{
        display: none;
    }
       #outfit1{
        display: none;
    }
    #outfit2{
        display: none;
    }
     #outfit3{
        display: none;
    }
    #submit{
        display: none;
    }

    #textDisplay1{
        display: none;
    }
    #textDisplay2{
        display: none;
    }

     #textDisplay3{
        display: none;
    }
      #textDisplay4{
        display: none;
    }
    #city_1{
        display: none;
    }

    #city_2{
        display: none;
    }

    #city_3{
        display: none;
    }
     #city_name_1{
        display: none;
    }
    #city_name_2{
        display: none;
    }
   #city_name_3{
        display: none;
    }
    #btn-ok{
        display: none;
    }
    #event{
        display: none;
    }
    #casual{
        display: none;
    }
    #work{
        display: none;
    }
    #party{
        display: none;
    }
    #home{
        display: none;
    }

  #submit_btn{
        display: none;
    }
    #event_name_1{
        display: none;
    }
     #event_name_2{
        display: none;
    }
      #event_name_3{
        display: none;
    }
    #event_name_4{
        display: none;
    }
     #event_name_5{
        display: none;
    }
     #btn-show{
          display: none;
     }
    </style>
</head>




  <div class="card-wrapper">
    <div class="card">
      <h1 class="center">Outfits</h1>
      <div class="center">
          <h3> Step 1/3: Would you like to include the weather predictions?</h3>
          <input type="radio" name="weather" id="yes" value="yes"> Yes <br>
          <input type="radio" name="weather" id="no" value="no"> No <br>
          <div>
              <button  type = "button"
                       class="btn btn-primary btn-lg"
                       onclick = "send()"
                       id="btn-send">Next</button>
          </div>

            <h3 id="textDisplay3">For which city?</h3>
            <form name="myForm1" action="" method="post" btn-ok="">
                <input type="radio" name="city" id= city_1 value={{ city1.city}}><p id = "city_name_1"> {{city1.city}}</p>
                <input type="radio" name="city" id= city_2 value={{ city2.city}}><p id = "city_name_2"> {{city2.city}}</p>
                <input type="radio" name="city" id= city_3 value={{ city3.city}}><p id = "city_name_3"> {{ city3.city }}</p>
                <p><input
                        id="btn-ok"
                        class="btn btn-primary btn-lg"
                        onclick = "send_city()"
                        type=button value=Send></p>

            </form>



            <h3 id="textDisplay4">Step 2/3: Choose an event where are you intending to wear this outfit:</h3>
            <input type="radio" name="location" id="event" value="event"><p id = "event_name_1">Event<br>
            <input type="radio" name="location" id="casual" value="casual"><p id = "event_name_2">Walk<br>
            <input type="radio" name="location" id="work" value="work"><p id = "event_name_3">Work<br>
            <input type="radio" name="location" id="party" value="party"><p id = "event_name_4">Party<br>
            <input type="radio" name="location" id="home" value="home"><p id = "event_name_5">Home<br>

           <button type="button"
                   onclick=" checkButton()"
                    id = "submit_btn"> Submit </button>

            <h3 id="disp" style= "color:green"> </h3>
            <h4 id="error" style= "color:red"> </h4>


        <script>

    </script>
            <div>

                <button  type = "button"
                          class="btn btn-primary btn-lg"
                         onclick = "myFunction()"
                         id="btn-show">Generate</button>
            </div>

      </div>
    </div>

    <div class="card">
        <div class="center">
           <h2 class="center">ToolBox</h2>
            <a href ="/wardrobe" class="btn btn--secondary">Add to wardrobe </a>
            <a href ="/wardrobe/all" class="btn btn--secondary">View your wardrobe</a>
            <a href ="/dashboard" class="btn btn--secondary">Back to Dashboard</a>
            <a href="/user/signout" class="btn btn-secondary">Sign Out</a>
      </div>
    </div>


	   <div class="card">
        <div class="center">
           <form id="msform" method="POST" action="abc.php">
		   <!-- progressbar -->
		   <ul id="progressbar">
			  <li>Step1</li>
			  <li>Step2</li>
			  <li>Step3</li>
		   </ul>

		   <!-- error messages -->
		   <span class="fs-error"></span>

		   <fieldset>
			   <h2 class="artist-type">Step 1/3: Would you like to include the weather predictions?</h2>
			  <div class="row">
				 <div class="col-md-6 my-2">
					<div class='btns'>
					   <label>
					   <input name="artist" type='radio'>
					   <span class='btn first'>Yes</span>
					   </label>
					</div>
				 </div>
				 <div class="col-md-6 my-2">
					<div class='btns'>
					   <label>
					   <input name="artist" type='radio'>
					   <span class='btn'>No</span>
					   </label>
					</div>
				 </div>
			  </div>
			  <input type="button" name="next" class="next action-button" value="NEXT" />
		   </fieldset>


		   <fieldset>
			  <h5 class="concierge-mobile desktop-view">Celeb Concierge</h5>

			   <h3 >Step 2/3: Choose an event where are you intending to wear this outfit:</h3>
			  <div class="row">
				 <div class="col-md-6 my-2">
					<div class='btns'>
					   <label>
					   <input name="event" type='radio'>
					   <span class='btn first'>Event</span>
					   </label>
					</div>

				 </div>
				 <div class="col-md-6 my-2">
					<div class='btns'>
					   <label>
					   <input name="event" type='radio'>
					   <span class='btn'>Walk</span>
					   </label>
					</div>
				 </div>
				 <div class="col-md-6 my-2">
					<div class='btns'>
					   <label>
					   <input name="event" type='radio'>
					   <span class='btn'>Work</span>
					   </label>
					</div>
				 </div>

				 <div class="col-md-6 my-2">
					<div class='btns'>
					   <label>
					   <input name="event" type='radio'>
					   <span class='btn'>Party</span>
					   </label>
					</div>
				 </div>

			  </div>
			  <input type="button" name="previous" class="previous action-button" value="BACK" />
			  <input type="button" name="next" class="next action-button" value="NEXT" />
		   </fieldset>


		   <fieldset>
			  <h5 class="concierge-mobile desktop-view">Celeb Concierge</h5>
			  <h2 class="artist-type">Type of Event</h2>

				 <div class="col-md-6 my-2">
			   <input type="radio" name="city" value={{ city1.city}}><p > {{city1.city}}</p>
                <input type="radio" name="city" value={{ city2.city}}><p > {{city2.city}}</p>
                <input type="radio" name="city"  value={{ city3.city}}><p> {{ city3.city }}</p>
			  </div>

			  <input type="button" name="previous" class="previous action-button" value="BACK" />
			  <button class="next" type="submit">SUBMIT</button>
		   </fieldset>
		</form>

			<script>
		$(document).ready(function() {

		  $(".next").click(function(event) {
			var current_index = $(this).parent().index("fieldset");

			if(validateStep(current_index)){
				makeStepActive(current_index+1);
			}else{
				event.preventDefault();
			}
		  });

		  $(".previous").click(function() {
			var current_index = $(this).parent().index("fieldset");
			makeStepActive(current_index - 1);
		  });

		 makeStepActive(0);

		});

		function makeStepActive(index){
			var step = $("#progressbar li:eq("+index+")");
			var feildset = $("fieldset:eq("+index+")");
			if(step.length){
				$("#progressbar li").hide();
				$("fieldset").hide();
				step.show();
				feildset.slideDown(500);
			}
		}

		function validateStep(step){
			switch(step){
				case 0:
					if(($("input[name='artist']:checked").length === 0)){
						alert('select any artist!');
						return false;
					}
					return true;
				break;
				case 1:
					if(($("input[name='event']:checked").length === 0)){
						alert('select any event!');
						return false;
					}
					return true;
				break;
				default:
					var ids = ['location', 'date', 'name', 'email', 'phone'];
					var err = [];
					ids.forEach(function(id, i){
						var value = $("#"+id).val();
						if ($.trim(value).length === 0) {
						  document.getElementById(id).style.borderColor = "#E34234";
						  err.push('Please Enter Your '+id);
						}
					});

					if(err.length > 0){
						$('.fs-error').html('<span style="color:red;">'+err.join('!<br>')+'</span>');
						$('.fs-error').show();
						return false;
					}else{
						return true;
					}
			}
		}

	</script>
      </div>
    </div>




        <div class="card">
             <div class="center">
             <h2  id="textDisplay1" class="center">{{ session['user']['name'] }}, check our top 3 picks </h2>

            <h3 id="textDisplay2">Step 3/3: Pick your favorite outfit:</h3>
                 <form name="myForm" action="" method="post" onsubmit="">
                    <p>
                 <input type="radio" name="options" id="piece1" value="piece1">
                 <img    id="outfit1"
                         src= {{outfit1.file_path}} height="200px" width="200px" >
                 </input><br>

                        <input type="radio" name="options" id="piece2" value="piece2">
                        <img    id="outfit2"
                         src= {{outfit2.file_path}} height="200px" width="200px" >
                        </input><br>

                        <input type="radio" name="options" id="piece3" value="piece3">
                         <img    id="outfit3"
                         src= {{outfit3.file_path}} height="200px" width="200px" >

                        </input><br>

                </p>
                <p><input
                        id="submit"
                        type=submit value=Next></p>
                </form>

        </div>
  </div>
{% endblock %}
  </div>

